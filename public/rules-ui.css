:root{
  --bg:#f7f9fc; --panel:#ffffff; --panel-2:#f2f5fb;
  --text:#0f172a; --muted:#5b6b85; --brand:#0057ff;
  --ok:#10916f; --danger:#d92d20; --border:#e5e8f0; --thead:#eef3ff;
}
*{box-sizing:border-box}
.rules-wrap{max-width:1100px;margin:0 auto;padding:0}
.rules-card{background:var(--panel);border:1px solid var(--border);border-radius:14px;box-shadow:0 6px 18px rgb(16 24 40 / .06);margin-bottom:18px}
.rules-toolbar{display:flex;flex-wrap:wrap;align-items:center;gap:10px;padding:14px 16px;border-bottom:1px solid var(--border)}
.rules-label{font-size:12px;color:var(--muted)}
.rules-input{background:var(--panel-2);border:1px solid var(--border);color:var(--text);border-radius:10px;height:36px;padding:0 12px;outline:none}
.rules-input:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgb(0 87 255 / .18);background:#fff}
.rules-btn{height:36px;padding:0 14px;border-radius:10px;border:1px solid var(--border);background:#0f172a;color:#fff;cursor:pointer}
.rules-btn.ghost{background:#fff;color:#0f172a}
.rules-btn.ok{background:linear-gradient(180deg,#13c28d,#10916f);border-color:transparent}
.rules-btn.danger{background:linear-gradient(180deg,#f26a5e,#d92d20);border-color:transparent}

.group{border-top:1px solid var(--border)}
.group-header{display:flex;align-items:center;gap:10px;padding:12px 14px;background:var(--thead);cursor:pointer}
.group-title{font-weight:700;color:var(--text)}
.group-sub{color:var(--muted);font-size:12px;margin-left:auto}
.chev{width:16px;height:16px;display:inline-block;transform:rotate(-90deg);transition:transform .15s}
.group.collapsed .chev{transform:rotate(0deg)}

.table-wrap{overflow:auto}
table.rules{width:100%;border-collapse:separate;border-spacing:0}
table.rules thead th{position:sticky;top:0;background:var(--thead);color:var(--text);text-align:left;font-size:12px;letter-spacing:.35px;text-transform:uppercase;padding:10px 10px;border-bottom:1px solid var(--border)}
table.rules tbody td{padding:8px 8px;border-bottom:1px solid var(--border);background:#fff}
table.rules tbody tr:nth-child(odd) td{background:#fbfdff}
table.rules tbody tr:hover td{background:#eef6ff}
table.rules input[type=text], table.rules input[type=number]{width:100%;background:#fff;border:1px solid var(--border);border-radius:8px;height:32px;padding:0 8px}
.chk{width:18px;height:18px;vertical-align:middle}
.row-actions{display:flex;gap:6px}
.group-body{padding:0 14px 12px;display:none}
.group:not(.collapsed) .group-body{display:block}

.newbar{padding:12px 14px;border-top:1px dashed var(--border);display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.newbar .w-lg{min-width:240px}
.newbar .w-sm{min-width:160px}
.newbar .w-xs{width:100px}
.hint{margin:8px 14px 14px;color:var(--muted);font-size:12px}
.rules-empty{padding:18px;color:var(--muted);text-align:center}
