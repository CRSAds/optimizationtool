@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

:root{
  --bg:#f8fafc;
  --panel:#fff;
  --panel-2:#f1f5f9;
  --text:#1e293b;
  --muted:#64748b;
  --brand:#2563eb;
  --ok:#10916f;
  --danger:#d92d20;
  --border:#e2e8f0;
  --thead:#e9eef6;
  --shadow:0 2px 10px rgb(30 41 59 / .06);
}

*{box-sizing:border-box}
body{
  font-family:'Inter',system-ui,sans-serif;
  background:var(--bg);
  color:var(--text);
}

/* =========================================================
   WRAPPER & TOOLBAR
   ========================================================= */
.rules-wrap{
  max-width: 1360px;
  margin: 0 auto;
  padding: 28px 28px 44px 28px;
}
.rules-card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  margin-bottom:28px;
  box-shadow:var(--shadow);
}
.rules-toolbar{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:12px;
  padding:16px 16px 10px 16px;
  border-bottom:1px solid var(--border);
}
.rules-label{font-size:13px;color:var(--muted)}
.rules-input{
  background:var(--panel-2);
  border:1.5px solid var(--border);
  color:var(--text);
  border-radius:12px;
  height:40px;
  padding:0 14px;
  outline:none;
  font-size:14px;
  min-width:220px;
}
.rules-input:focus{border-color:var(--brand);background:#fff}
.rules-btn{
  height:40px;
  padding:0 18px;
  border-radius:12px;
  border:1.5px solid var(--brand);
  background:var(--brand);
  color:#fff;font-weight:600;font-size:14px;cursor:pointer;
}
.rules-btn.ghost{background:#fff;color:var(--brand)}
.rules-btn.ok{background:var(--ok);border-color:var(--ok)}
.rules-btn.danger{background:var(--danger);border-color:var(--danger)}
.rules-btn:hover{filter:brightness(1.05)}

/* =========================================================
   GROUPS (strakke randen, marge L/R; geen verticale gap)
   ========================================================= */
.group{
  border:1px solid var(--border);
  border-radius:0;
  margin:0 12px;      /* witruimte links/rechts binnen de card */
  overflow:hidden;
}
.group + .group{ margin-top:0; }
.group-header{
  display:flex;align-items:center;gap:12px;
  background:var(--thead);
  cursor:pointer;
  font-size:16px;font-weight:700;color:var(--text);
  border-bottom:1px solid var(--border);
  padding:14px 16px;
  min-height:48px;
}
.group-header:hover{ filter:brightness(0.98); }
.group-title{font-weight:700}
.group-sub{margin-left:auto;color:var(--muted);font-size:13px}
.chev{width:18px;height:18px;transform:rotate(-90deg);transition:transform .15s}
.group.collapsed .chev{transform:rotate(0deg)}
.group-body{
  padding:12px 16px 18px 16px;
  display:none;
}
.group:not(.collapsed) .group-body{display:block}

/* =========================================================
   TABLE (gedeeld door Rules & Counters)
   ========================================================= */
.table-wrap{
  overflow-x:auto;
  padding:6px 8px 0;
  background:#fff;
  border-radius:12px;
  border:1px solid var(--border);
}
table.rules{width:100%;border-collapse:separate;border-spacing:0;font-size:14px}
table.rules thead th{
  position:sticky;top:0;z-index:1;
  background:var(--thead);
  color:var(--text);
  text-align:left;
  padding:10px 14px;
  white-space:nowrap;
  border-bottom:1px solid var(--border);
  font-size:12px;
  letter-spacing:.2px;
}
table.rules tbody td{
  background:#fff;
  padding:10px 14px;
  border-bottom:1px solid var(--border);
}
table.rules tbody tr:nth-child(odd) td{background:#f7faff}
table.rules tbody tr:hover td{background:#eef4ff}

/* Inputs in rules-tabel (priority is verwijderd) */
table.rules input[type=text], table.rules input[type=number]{
  width:100%;
  background:#fff;
  border:1.5px solid var(--border);
  border-radius:9px;
  height:34px;
  padding:0 10px;
  font-size:14px;
}

/* kolombreedtes â€“ herverdeeld */
table.rules input[data-k="description"]{max-width:300px}
table.rules input[data-k="affiliate_id"],
table.rules input[data-k="sub_id"],
table.rules input[data-k="offer_id"]{max-width:120px}
table.rules input[data-k="percent_accept"]{max-width:86px}

/* algemene UI */
.chk{width:18px;height:18px;vertical-align:middle}
.row-actions{display:flex;gap:8px}

/* =========================================================
   NEW ROW BAR
   ========================================================= */
.newbar{
  position: sticky;
  left:0; right:0; bottom:0;
  display:flex; gap:10px; align-items:center; flex-wrap:nowrap;
  background:linear-gradient(180deg, #ffffff, #f8fbff);
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:10px;
  margin-top:12px;
}
.newbar .rules-input{height:34px;font-size:14px;min-width:auto}
.newbar .w-desc{width:260px}
.newbar .w-offer{width:140px}     /* NIEUW: breedte voor offer veld */
.newbar .w-sm{width:140px}
.newbar .w-xs{width:86px}

/* hint onder groep */
.hint{margin:8px 2px 0;color:var(--muted);font-size:13px}

/* empty / errors */
.rules-empty{padding:24px;color:var(--muted);text-align:center;font-size:16px}

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 900px){
  .rules-wrap{padding:14px}
  .rules-input{min-width:160px}
  table.rules input[data-k="description"]{max-width:220px}
}

/* =========================================================
   COUNTERS SPECIFIEKE TINTEN (subtotaal + totaal)
   ========================================================= */
/* Subtotaalrijen in de per-groep tabellen */
#counters-ui tr.subtotal td {
  background: #F4E5DC;
  font-weight: 600;
  color: #1e293b;
}

/* Totaal selectie (onderaan alle groepen) */
#counters-ui tr.total td {
  background: #EDD5C5;
  font-weight: 700;
  color: #1e293b;
}
