@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
:root{
  --bg:#f8fafc; --panel:#fff; --panel-2:#f1f5f9;
  --text:#1e293b; --muted:#64748b;
  --brand:#2563eb; --ok:#10916f; --danger:#d92d20;
  --border:#e2e8f0; --thead:#e0e7ef;
}
*{box-sizing:border-box}
html,body{height:100%}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);margin:0}

.rules-wrap{max-width:1100px;margin:0 auto;padding:32px 24px 48px}
.rules-card{background:var(--panel);border:1px solid var(--border);border-radius:18px;margin-bottom:24px}
.rules-toolbar{display:flex;flex-wrap:wrap;align-items:center;gap:16px;padding:20px 24px;border-bottom:1px solid var(--border)}
.rules-label{font-size:14px;color:var(--muted);font-weight:500;letter-spacing:.2px}
.rules-input{background:var(--panel-2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;height:44px;padding:0 16px;outline:none;font-size:16px;transition:border .15s,box-shadow .15s}
.rules-input:focus{border-color:var(--brand);background:#fff}
.rules-btn{height:44px;padding:0 28px;border-radius:12px;border:1.5px solid var(--brand);background:var(--brand);color:#fff;font-weight:600;font-size:16px;cursor:pointer;transition:filter .15s,border-width .15s}
.rules-btn.ghost{background:#fff;color:var(--brand);border-color:var(--brand)}
.rules-btn.ok{background:var(--ok);border-color:var(--ok)}
.rules-btn.danger{background:var(--danger);border-color:var(--danger)}
.rules-btn:hover,.rules-btn:focus{filter:brightness(1.07);border-width:2px}

.group{border-top:1.5px solid var(--border);border-radius:12px;overflow:hidden;margin-bottom:16px}
.group-header{display:flex;align-items:center;gap:14px;padding:16px 18px;background:var(--thead);cursor:pointer;font-size:18px;font-weight:700;color:var(--text);border-bottom:1px solid var(--border)}
.group-header:hover{filter:brightness(0.98)}
.group-title{font-weight:700}
.group-sub{color:var(--muted);font-size:14px;margin-left:auto}
.chev{width:20px;height:20px;display:inline-block;transform:rotate(-90deg);transition:transform .15s}
.group.collapsed .chev{transform:rotate(0)}

.table-wrap{overflow-x:auto}
table.rules{width:100%;border-collapse:separate;border-spacing:0;background:#fff;font-size:15.5px;margin:0}
table.rules thead th,table.rules tbody td{padding-left:18px;padding-right:18px}
table.rules thead th{position:sticky;top:0;background:var(--thead);color:var(--text);text-align:left;font-size:12px;letter-spacing:.3px;text-transform:uppercase;padding-top:12px;padding-bottom:12px;border-bottom:1.5px solid var(--border)}
table.rules tbody td{padding-top:10px;padding-bottom:10px;border-bottom:1px solid var(--border);background:#fff;vertical-align:middle}
table.rules tbody tr:nth-child(odd) td{background:#f5f8ff}
table.rules tbody tr:hover td{background:#e8f0fe}

table.rules input[type=text],table.rules input[type=number]{
  width:100%;background:#fff;border:1.5px solid var(--border);border-radius:8px;height:36px;padding:0 10px;font-size:15px;outline:none
}
table.rules input:focus{border-color:var(--brand);background:#fff}
.chk{width:20px;height:20px;vertical-align:middle}
.row-actions{display:flex;gap:10px}

.group-body{padding:0 18px 16px;display:none}
.group:not(.collapsed) .group-body{display:block}

.newbar{padding:14px 18px;border-top:1px dashed var(--border);display:flex;flex-wrap:wrap;gap:12px;align-items:center;background:var(--panel-2)}
.newbar .w-lg{min-width:240px}
.newbar .w-sm{min-width:160px}
.newbar .w-xs{width:100px}

.hint{margin:10px 18px 16px;color:var(--muted);font-size:13px}
.rules-empty{padding:26px;color:var(--muted);text-align:center;font-size:18px}

@media (max-width:700px){
  .rules-wrap{padding:12px}
  .rules-toolbar{padding:14px;gap:10px}
  .group-header{padding:12px 14px;font-size:16px}
  .group-body,.newbar,.hint{padding-left:10px;padding-right:10px}
}
